<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GEST PREV - Plateforme modulaire de gestion pr√©visionnelle</title>
    <link rel="stylesheet" href="css/modules.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header class="main-header">
            <div class="header-content">
                <div class="logo">
                <div class="logo-icon">
                    <div class="icon-part icon-part-1"></div>
                    <div class="icon-part icon-part-2"></div>
                </div>
                <div class="logo-text">
                    <h1>GEST PREV</h1>
                    <p>Plateforme modulaire de gestion pr√©visionnelle</p>
                </div>
            </div>
            <nav class="main-nav">
                <div class="module-buttons">
                        <button class="module-btn active" data-module="rh">
                            <i class="fas fa-users"></i>
                            <span>RH</span>
                        </button>
                    <button class="module-btn" data-module="financier">
                            <i class="fas fa-euro-sign"></i>
                            <span>Financier</span>
                            <span class="coming-soon">Bient√¥t</span>
                        </button>
                    <button class="module-btn" data-module="infrastructure">
                            <i class="fas fa-building"></i>
                            <span>Infrastructure</span>
                            <span class="coming-soon">Bient√¥t</span>
                        </button>
                    <button class="module-btn" data-module="commercial">
                            <i class="fas fa-chart-line"></i>
                            <span>Commercial</span>
                            <span class="coming-soon">Bient√¥t</span>
                        </button>
                    <button class="module-btn" data-module="environnement">
                            <i class="fas fa-leaf"></i>
                            <span>Environnement</span>
                            <span class="coming-soon">Bient√¥t</span>
                        </button>
                    <button class="module-btn" data-module="operationnel">
                            <i class="fas fa-cogs"></i>
                            <span>Op√©rationnel</span>
                            <span class="coming-soon">Bient√¥t</span>
                        </button>
                    </div>
                    
                    <!-- Syst√®me d'export global -->
                    <div class="export-controls">
                        <button type="button" id="export-btn" class="btn btn-secondary">
                            <i class="fas fa-download"></i> Exporter
                        </button>
                        <div class="export-dropdown" style="display: none;">
                            <button type="button" class="export-option" data-format="excel">
                                <i class="fas fa-file-excel"></i> Excel (.xlsx)
                            </button>
                            <button type="button" class="export-option" data-format="pdf">
                                <i class="fas fa-file-pdf"></i> PDF (.pdf)
                            </button>
                            <button type="button" class="export-option" data-format="word">
                                <i class="fas fa-file-word"></i> Word (.docx)
                            </button>
                            <button type="button" class="export-option" data-format="csv">
                                <i class="fas fa-file-csv"></i> CSV (.csv)
                            </button>
                            <button type="button" class="export-option" data-format="json">
                                <i class="fas fa-file-code"></i> JSON (.json)
                            </button>
                        </div>
                    </div>
                </nav>
        </div>
    </header>

    <!-- Module Banner -->
    <div class="module-banner">
        <div class="banner-content">
            <h2>Module RH - Gestion pr√©visionnelle des ressources humaines</h2>
            <p>Centralisez et optimisez votre gestion RH pr√©visionnelle</p>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Module RH -->
        <div id="rh-module" class="module-content active">
            <div class="module-tabs">
                <button class="tab-btn active" data-tab="rh-presentation">Pr√©sentation</button>
                <button class="tab-btn" data-tab="rh-services">Services</button>
                <button class="tab-btn" data-tab="rh-employes">Employ√©s</button>
                <button class="tab-btn" data-tab="rh-planning">Planning</button>
                <button class="tab-btn" data-tab="rh-configuration">Configuration</button>
                <button class="tab-btn" data-tab="rh-simulation">Simulation</button>
                </div>

                <!-- Section Pr√©sentation RH -->
                <section id="rh-presentation" class="module-section active">
                    <div class="section-header">
                    <h3><i class="fas fa-info-circle"></i> Pr√©sentation du module RH</h3>
                    <p>D√©couvrez les fonctionnalit√©s de gestion pr√©visionnelle des ressources humaines</p>
                    </div>
                <div class="presentation-container">
                    <div class="features-grid">
                        <div class="feature-card">
                            <i class="fas fa-cogs"></i>
                            <h4>Configuration des services</h4>
                            <p>D√©finissez vos services avec horaires saisonniers et cat√©gories</p>
                        </div>
                        <div class="feature-card">
                            <i class="fas fa-user-friends"></i>
                            <h4>Gestion des employ√©s</h4>
                            <p>Configurez vos employ√©s avec quotas et attributions multi-services</p>
                        </div>
                        <div class="feature-card">
                            <i class="fas fa-calendar-alt"></i>
                            <h4>Planning pr√©visionnel</h4>
                            <p>G√©n√©rez des plannings optimis√©s selon vos besoins</p>
                        </div>
                        <div class="feature-card">
                            <i class="fas fa-chart-line"></i>
                            <h4>Simulation RH</h4>
                            <p>Simulez diff√©rents sc√©narios de gestion des ressources</p>
                        </div>
                        <div class="feature-card">
                            <i class="fas fa-tachometer-alt"></i>
                            <h4>Tableau de bord</h4>
                            <p>Visualisez les indicateurs cl√©s de vos ressources humaines</p>
                        </div>
                        <div class="feature-card">
                            <i class="fas fa-calculator"></i>
                            <h4>Calculs automatiques</h4>
                            <p>Calculs automatiques des heures et co√ªts par saison</p>
                        </div>
                        </div>
                        

                    </div>
                </section>

                <!-- Section Services RH -->
                <section id="rh-services" class="module-section">
                    <div class="section-header">
                        <h3><i class="fas fa-cogs"></i> Configuration des services</h3>
                        <p>D√©finissez vos services avec cat√©gories et horaires saisonniers</p>
                    </div>
                    <div class="services-container">
                    <div class="services-header">
                        <h3>Services configur√©s</h3>
                        <button type="button" id="show-service-form" class="btn btn-primary">
                            <i class="fas fa-plus"></i> Ajouter un service
                        </button>
                    </div>
                    <form id="service-form" class="service-form" style="display: none;">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="service-name">Nom du service</label>
                                <input type="text" id="service-name" name="service-name" placeholder="Ex: R√©ception, Restaurant..." required>
                                </div>
                                <div class="form-group">
                                    <label for="service-category">Cat√©gorie</label>
                                    <select id="service-category" name="service-category" required>
                                        <option value="">S√©lectionner...</option>
                                        <option value="hotellerie">üè® H√¥tellerie</option>
                                    <option value="restauration">üçΩÔ∏è Restauration</option>
                                    <option value="loisirs">üéØ Loisirs</option>
                                        <option value="technique">üîß Technique</option>
                                        <option value="administratif">üìã Administratif</option>
                                    </select>
                                </div>
                            </div>
                            
                        <!-- Configuration horaires jour par jour -->
                        <div class="daily-hours-config">
                            <h4><i class="fas fa-calendar-week"></i> Horaires par jour</h4>
                            <div class="days-hours-container">
                                <!-- Lundi -->
                                <div class="day-hours-card">
                                    <h5>Lundi</h5>
                                    <div class="day-hours-content">
                                        <div class="season-hours-day">
                                            <div class="season-header">
                                                <label>Haute saison</label>
                                                <div class="season-options">
                                                    <button type="button" class="ferme-btn" data-day="lundi" data-season="haute">
                                                        <i class="fas fa-lock"></i>
                                                        <span>Ferm√©</span>
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="time-inputs">
                                                <input type="time" name="lundi-haute-ouverture" placeholder="08:00">
                                                <span>√†</span>
                                                <input type="time" name="lundi-haute-fermeture" placeholder="18:00">
                                            </div>
                                        </div>
                                        <div class="season-hours-day">
                                            <div class="season-header">
                                                <label>Basse saison</label>
                                                <div class="season-options">
                                                    <button type="button" class="ferme-btn" data-day="lundi" data-season="basse">
                                                        <i class="fas fa-lock"></i>
                                                        <span>Ferm√©</span>
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="time-inputs">
                                                <input type="time" name="lundi-basse-ouverture" placeholder="09:00">
                                                <span>√†</span>
                                                <input type="time" name="lundi-basse-fermeture" placeholder="17:00">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Mardi -->
                                <div class="day-hours-card">
                                    <h5>Mardi</h5>
                                    <div class="day-hours-content">
                                        <div class="season-hours-day">
                                            <div class="season-header">
                                                <label>Haute saison</label>
                                            </div>
                                            <div class="time-inputs">
                                                <input type="time" name="mardi-haute-ouverture" placeholder="08:00">
                                                <span>√†</span>
                                                <input type="time" name="mardi-haute-fermeture" placeholder="18:00">
                                            </div>
                                        </div>
                                        <div class="season-hours-day">
                                            <div class="season-header">
                                                <label>Basse saison</label>
                                            </div>
                                            <div class="time-inputs">
                                                <input type="time" name="mardi-basse-ouverture" placeholder="09:00">
                                                <span>√†</span>
                                                <input type="time" name="mardi-basse-fermeture" placeholder="17:00">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Mercredi -->
                                <div class="day-hours-card">
                                    <h5>Mercredi</h5>
                                    <div class="day-hours-content">
                                        <div class="season-hours-day">
                                            <div class="season-header">
                                                <label>Haute saison</label>
                                            </div>
                                            <div class="time-inputs">
                                                <input type="time" name="mercredi-haute-ouverture" placeholder="08:00">
                                                <span>√†</span>
                                                <input type="time" name="mercredi-haute-fermeture" placeholder="18:00">
                                            </div>
                                        </div>
                                        <div class="season-hours-day">
                                            <div class="season-header">
                                                <label>Basse saison</label>
                                            </div>
                                            <div class="time-inputs">
                                                <input type="time" name="mercredi-basse-ouverture" placeholder="09:00">
                                                <span>√†</span>
                                                <input type="time" name="mercredi-basse-fermeture" placeholder="17:00">
                                            </div>
                                    </div>
                                </div>
                            </div>

                                <!-- Jeudi -->
                                <div class="day-hours-card">
                                    <h5>Jeudi</h5>
                                    <div class="day-hours-content">
                                        <div class="season-hours-day">
                                            <div class="season-header">
                                                <label>Haute saison</label>
                                            </div>
                                            <div class="time-inputs">
                                                <input type="time" name="jeudi-haute-ouverture" placeholder="08:00">
                                                <span>√†</span>
                                                <input type="time" name="jeudi-haute-fermeture" placeholder="18:00">
                                            </div>
                                        </div>
                                        <div class="season-hours-day">
                                            <div class="season-header">
                                                <label>Basse saison</label>
                                            </div>
                                            <div class="time-inputs">
                                                <input type="time" name="jeudi-basse-ouverture" placeholder="09:00">
                                                <span>√†</span>
                                                <input type="time" name="jeudi-basse-fermeture" placeholder="17:00">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Vendredi -->
                                <div class="day-hours-card">
                                    <h5>Vendredi</h5>
                                    <div class="day-hours-content">
                                        <div class="season-hours-day">
                                            <div class="season-header">
                                                <label>Haute saison</label>
                                            </div>
                                            <div class="time-inputs">
                                                <input type="time" name="vendredi-haute-ouverture" placeholder="08:00">
                                                <span>√†</span>
                                                <input type="time" name="vendredi-haute-fermeture" placeholder="18:00">
                                            </div>
                                        </div>
                                        <div class="season-hours-day">
                                            <div class="season-header">
                                                <label>Basse saison</label>
                                            </div>
                                            <div class="time-inputs">
                                                <input type="time" name="vendredi-basse-ouverture" placeholder="09:00">
                                                <span>√†</span>
                                                <input type="time" name="vendredi-basse-fermeture" placeholder="17:00">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Samedi -->
                                <div class="day-hours-card">
                                    <h5>Samedi</h5>
                                    <div class="day-hours-content">
                                        <div class="season-hours-day">
                                            <div class="season-header">
                                                <label>Haute saison</label>
                                            </div>
                                            <div class="time-inputs">
                                                <input type="time" name="samedi-haute-ouverture" placeholder="08:00">
                                                <span>√†</span>
                                                <input type="time" name="samedi-haute-fermeture" placeholder="18:00">
                                            </div>
                                        </div>
                                        <div class="season-hours-day">
                                            <div class="season-header">
                                                <label>Basse saison</label>
                                            </div>
                                            <div class="time-inputs">
                                                <input type="time" name="samedi-basse-ouverture" placeholder="09:00">
                                                <span>√†</span>
                                                <input type="time" name="samedi-basse-fermeture" placeholder="17:00">
                                </div>
                            </div>
                                    </div>
                                </div>
                                
                                <!-- Dimanche -->
                                <div class="day-hours-card">
                                    <h5>Dimanche</h5>
                                    <div class="day-hours-content">
                                        <div class="season-hours-day">
                                            <div class="season-header">
                                                <label>Haute saison</label>
                                            </div>
                                            <div class="time-inputs">
                                                <input type="time" name="dimanche-haute-ouverture" placeholder="08:00">
                                                <span>√†</span>
                                                <input type="time" name="dimanche-haute-fermeture" placeholder="18:00">
                                            </div>
                                        </div>
                                        <div class="season-hours-day">
                                            <div class="season-header">
                                                <label>Basse saison</label>
                                            </div>
                                            <div class="time-inputs">
                                                <input type="time" name="dimanche-basse-ouverture" placeholder="09:00">
                                                <span>√†</span>
                                                <input type="time" name="dimanche-basse-fermeture" placeholder="17:00">
                                </div>
                            </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-plus"></i> Ajouter le service
                            </button>
                            <button type="button" id="cancel-service-form" class="btn btn-secondary">
                                <i class="fas fa-times"></i> Annuler
                            </button>
                        </div>
                        </form>
                        <div id="services-list" class="services-list">
                            <!-- Services ajout√©s appara√Ætront ici -->
                        </div>
                    </div>
                </section>

                                <!-- Section Employ√©s RH -->
                <section id="rh-employes" class="module-section">
                    <div class="section-header">
                        <h3><i class="fas fa-user-friends"></i> Gestion pr√©visionnelle des employ√©s</h3>
                        <p>Configurez vos employ√©s avec contrats modulation annuelle et planification sur 5 ans</p>
                    </div>
                    
                    <!-- En-t√™te des employ√©s -->
                    <div class="employes-header">
                        <h3>Employ√©s pr√©visionnels</h3>
                        <button type="button" id="show-employe-form" class="btn btn-primary">
                            <i class="fas fa-plus"></i> Ajouter un employ√©
                        </button>
                    </div>
                    
                    <!-- Formulaire employ√© (d√©veloppable) -->
                    <form id="employe-form" class="employe-form" style="display: none;">
                        <div class="form-section">
                            <h4><i class="fas fa-user"></i> Identit√©</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="employe-nom">Nom</label>
                                    <input type="text" id="employe-nom" name="employe-nom" placeholder="Ex: Dupont" required>
                                </div>
                                <div class="form-group">
                                    <label for="employe-prenom">Pr√©nom</label>
                                    <input type="text" id="employe-prenom" name="employe-prenom" placeholder="Ex: Jean" required>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-section">
                            <h4><i class="fas fa-tags"></i> Classification</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="employe-categorie">Cat√©gorie</label>
                                    <select id="employe-categorie" name="employe-categorie" required>
                                        <option value="">S√©lectionner...</option>
                                        <option value="reception">üè® R√©ception</option>
                                        <option value="cuisine">üë®‚Äçüç≥ Cuisine</option>
                                        <option value="service">üçΩÔ∏è Service</option>
                                        <option value="technique">üîß Technique</option>
                                        <option value="administratif">üìã Administratif</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="employe-niveau">Niveau</label>
                                    <select id="employe-niveau" name="employe-niveau" required>
                                        <option value="">S√©lectionner...</option>
                                        <option value="debutant">D√©butant</option>
                                        <option value="confirme">Confirm√©</option>
                                        <option value="expert">Expert</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="employe-echelon">√âchelon</label>
                                    <select id="employe-echelon" name="employe-echelon" required>
                                        <option value="">S√©lectionner...</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="employe-type-contrat">Type de contrat</label>
                                    <select id="employe-type-contrat" name="employe-type-contrat" required>
                                        <option value="">S√©lectionner...</option>
                                        <option value="CDI">CDI</option>
                                        <option value="CDD">CDD</option>
                                        <option value="interim">Int√©rim</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-section">
                            <h4><i class="fas fa-euro-sign"></i> Co√ªts pr√©visionnels</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="employe-taux-brut">Taux horaire brut (‚Ç¨)</label>
                                    <input type="number" id="employe-taux-brut" name="employe-taux-brut" min="0" step="0.01" value="15.50" required>
                                </div>
                                <div class="form-group">
                                    <label for="employe-taux-charges">Taux charges patronales (%)</label>
                                    <input type="number" id="employe-taux-charges" name="employe-taux-charges" min="0" max="100" step="0.1" value="45.0" required>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-section">
                            <h4><i class="fas fa-clock"></i> Capacit√© pr√©visionnelle</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="employe-modulation">
                                        <input type="checkbox" id="employe-modulation" name="employe-modulation" checked>
                                        Contrat modulation annuelle (39h/sem)
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label for="employe-heures-annuel">Heures contractuelles annuelles</label>
                                    <input type="number" id="employe-heures-annuel" name="employe-heures-annuel" value="2028" min="0" readonly>
                                    <small>39h √ó 52 semaines = 2,028h/an</small>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="employe-conges">Cong√©s pay√©s (jours/an)</label>
                                    <input type="number" id="employe-conges" name="employe-conges" value="25" min="0" max="35">
                                </div>
                                <div class="form-group">
                                    <label for="employe-rtt">RTT (jours/an)</label>
                                    <input type="number" id="employe-rtt" name="employe-rtt" value="0" min="0" max="20">
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-section">
                            <h4><i class="fas fa-tasks"></i> Attribution pr√©visionnelle</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="employe-services">Services assign√©s</label>
                                    <div class="services-checkboxes">
                                        <!-- Options g√©n√©r√©es dynamiquement -->
                                    </div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="employe-priorite">Priorit√© d'attribution (1-5)</label>
                                    <select id="employe-priorite" name="employe-priorite" required>
                                        <option value="1">1 - Tr√®s haute</option>
                                        <option value="2" selected>2 - Haute</option>
                                        <option value="3">3 - Moyenne</option>
                                        <option value="4">4 - Basse</option>
                                        <option value="5">5 - Tr√®s basse</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-plus"></i> Ajouter l'employ√©
                            </button>
                            <button type="button" id="cancel-employe-form" class="btn btn-secondary">
                                <i class="fas fa-times"></i> Annuler
                            </button>
                        </div>
                    </form>
                    
                    <!-- Liste des employ√©s -->
                    <div id="employes-list" class="employes-list">
                        <!-- Employ√©s ajout√©s appara√Ætront ici -->
                    </div>
                </section>

                            <!-- Section Planning RH -->
            <section id="rh-planning" class="module-section">
                <div class="section-header">
                    <h3><i class="fas fa-calendar-week"></i> Planning RH</h3>
                    <p>G√©rez les plannings hebdomadaires de vos √©quipes</p>
                </div>
                
                <div class="planning-container">
                    <div class="planning-controls">
                        <div class="form-section">
                            <h4><i class="fas fa-cog"></i> Param√®tres du planning</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="planning-service">Service</label>
                                    <select id="planning-service" name="planning-service" required>
                                        <option value="">S√©lectionner un service...</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="planning-week">Semaine</label>
                                    <div class="week-selector">
                                        <button type="button" class="btn-week" id="prev-week">
                                            <i class="fas fa-chevron-left"></i>
                                        </button>
                                        <input type="week" id="planning-week" name="planning-week" required>
                                        <button type="button" class="btn-week" id="next-week">
                                            <i class="fas fa-chevron-right"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="planning-test-quota">Quota de test (%)</label>
                                    <input type="number" id="planning-test-quota" name="planning-test-quota" min="0" max="100" value="80" required>
                                    <small>Pourcentage d'occupation pour les tests</small>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h4><i class="fas fa-users"></i> S√©lection des employ√©s</h4>
                            <div class="employes-selector" id="planning-employes-selector">
                                <!-- Les employ√©s seront ajout√©s dynamiquement -->
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="button" id="generate-planning" class="btn btn-primary">
                                <i class="fas fa-magic"></i> G√©n√©rer le planning
                            </button>
                            <button type="button" id="optimize-planning" class="btn btn-secondary">
                                <i class="fas fa-chart-line"></i> Optimiser
                            </button>
                        </div>
                    </div>

                    <div class="planning-results" id="planning-results">
                        <div class="planning-results-empty">
                            <i class="fas fa-calendar-alt"></i>
                            <p>Aucun planning g√©n√©r√©</p>
                            <small>S√©lectionnez un service et des employ√©s, puis cliquez sur "G√©n√©rer le planning"</small>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section Configuration RH -->
            <section id="rh-configuration" class="module-section">
                    <div class="section-header">
                        <h3><i class="fas fa-cogs"></i> Configuration</h3>
                        <p>Configuration des r√®gles l√©gales et saisonni√®res pour la simulation</p>
                    </div>
                    
                    <!-- Configuration des r√®gles l√©gales -->
                    <div class="legal-rules-container">
                        <div class="rules-header">
                            <h4><i class="fas fa-gavel"></i> Configuration des r√®gles l√©gales</h4>
                            <small>Code du Travail & Convention Collective H√¥tellerie-Restauration</small>
                        </div>
                        <div class="rules-content">
                            <div class="rules-section">
                                <h5><i class="fas fa-clock"></i> R√®gles de temps de travail</h5>
                                <div class="rules-grid">
                                    <div class="rule-item">
                                        <label for="rule-heures-jour">Heures/jour</label>
                                        <input type="number" id="rule-heures-jour" step="0.1" value="7.8">
                                        <small>Heures par jour de travail</small>
                                    </div>
                                    <div class="rule-item">
                                        <label for="rule-heures-semaine">Heures/semaine</label>
                                        <input type="number" id="rule-heures-semaine" value="39">
                                        <small>Heures par semaine (39h modulable)</small>
                                    </div>
                                    <div class="rule-item">
                                        <label for="rule-heures-mois">Heures/mois</label>
                                        <input type="number" id="rule-heures-mois" readonly value="169">
                                        <small>Calcul√© automatiquement</small>
                                    </div>
                                    <div class="rule-item">
                                        <label for="rule-heures-an">Heures/an</label>
                                        <input type="number" id="rule-heures-an" readonly value="1787">
                                        <small>Calcul√© automatiquement</small>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="rules-section">
                                <h5><i class="fas fa-exclamation-triangle"></i> Limites l√©gales</h5>
                                <div class="rules-grid">
                                    <div class="rule-item">
                                        <label for="rule-max-jour">Max heures/jour</label>
                                        <input type="number" id="rule-max-jour" value="10">
                                        <small>Maximum l√©gal par jour</small>
                                    </div>
                                    <div class="rule-item">
                                        <label for="rule-max-semaine">Max heures/semaine</label>
                                        <input type="number" id="rule-max-semaine" value="48">
                                        <small>Maximum l√©gal par semaine</small>
                                    </div>
                                    <div class="rule-item">
                                        <label for="rule-heures-sup">Heures suppl√©mentaires</label>
                                        <input type="number" id="rule-heures-sup" value="220">
                                        <small>Limite annuelle</small>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="rules-section">
                                <h5><i class="fas fa-umbrella-beach"></i> Cong√©s et repos</h5>
                                <div class="rules-grid">
                                    <div class="rule-item">
                                        <label for="rule-conges">Cong√©s pay√©s (jours)</label>
                                        <input type="number" id="rule-conges" value="25">
                                        <small>Jours de cong√©s pay√©s</small>
                                    </div>
                                    <div class="rule-item">
                                        <label for="rule-repos">Repos hebdomadaire (h)</label>
                                        <input type="number" id="rule-repos" value="24">
                                        <small>Heures de repos cons√©cutives</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="rules-actions">
                            <button type="button" id="save-rules" class="btn btn-success">
                                <i class="fas fa-save"></i> Sauvegarder
                            </button>
                            <button type="button" id="reset-rules" class="btn btn-secondary">
                                <i class="fas fa-undo"></i> Restaurer
                            </button>
                            <button type="button" id="validate-rules" class="btn btn-primary">
                                <i class="fas fa-check"></i> Valider
                            </button>
                        </div>
                    </div>

                    <!-- Configuration saisonni√®re (Guyane Zone A) -->
                    <div class="seasons-container">
                        <div class="seasons-header">
                            <h4><i class="fas fa-sun"></i> Configuration saisonni√®re (Guyane Zone A)</h4>
                        </div>
                        <div class="seasons-content">
                            <div class="season-config">
                                <h5><i class="fas fa-calendar"></i> P√©riodes de vacances scolaires (Haute saison)</h5>
                                <div class="vacation-periods">
                                    <div class="vacation-item">
                                        <label>Toussaint</label>
                                        <input type="date" value="2024-10-21">
                                        <span>√†</span>
                                        <input type="date" value="2024-11-06">
                                    </div>
                                    <div class="vacation-item">
                                        <label>No√´l</label>
                                        <input type="date" value="2024-12-18">
                                        <span>√†</span>
                                        <input type="date" value="2025-01-03">
                                    </div>
                                    <div class="vacation-item">
                                        <label>Carnaval</label>
                                        <input type="date" value="2025-02-10">
                                        <span>√†</span>
                                        <input type="date" value="2025-02-26">
                                    </div>
                                    <div class="vacation-item">
                                        <label>P√¢ques</label>
                                        <input type="date" value="2025-04-08">
                                        <span>√†</span>
                                        <input type="date" value="2025-04-24">
                                    </div>
                                    <div class="vacation-item">
                                        <label>√ât√©</label>
                                        <input type="date" value="2025-07-06">
                                        <span>√†</span>
                                        <input type="date" value="2025-09-01">
                                    </div>
                                </div>
                                <div class="season-info">
                                    <p><strong>Note :</strong> Les p√©riodes de vacances scolaires sont consid√©r√©es comme <strong>haute saison</strong> pour les calculs de simulation.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Section Simulation RH -->
                <section id="rh-simulation" class="module-section">
                    <div class="section-header">
                        <h3><i class="fas fa-chart-line"></i> Simulation RH</h3>
                        <p>Simulez diff√©rents sc√©narios de gestion des ressources humaines</p>
                    </div>
                    
                    <!-- Simulation RH -->
                    <div class="simulation-container">
                        <div class="simulation-header">
                            <h4><i class="fas fa-users"></i> Simulation RH - Masse Salariale</h4>
                            <p>Analyse compl√®te de la masse salariale avec r√®gles l√©gales, saisons et optimisation des ressources</p>
                        </div>
                        
                        <div class="simulation-controls">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="simulation-service">Service</label>
                                    <select id="simulation-service" name="simulation-service" required>
                                        <option value="">S√©lectionner un service...</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="simulation-employes">Employ√©s</label>
                                    <div class="custom-multiselect">
                                        <div class="multiselect-header">
                                            <span class="multiselect-placeholder">S√©lectionner des employ√©s...</span>
                                            <i class="fas fa-chevron-down"></i>
                                        </div>
                                        <div class="multiselect-dropdown" style="display: none;">
                                            <div class="multiselect-search">
                                                <input type="text" placeholder="Rechercher un employ√©..." class="multiselect-search-input">
                                            </div>
                                            <div class="multiselect-options">
                                                <!-- Les options seront ajout√©es dynamiquement -->
                                            </div>
                                            <div class="multiselect-actions">
                                                <button type="button" class="btn btn-sm btn-secondary multiselect-select-all">
                                                    <i class="fas fa-check-double"></i> Tout s√©lectionner
                                                </button>
                                                <button type="button" class="btn btn-sm btn-secondary multiselect-clear-all">
                                                    <i class="fas fa-times"></i> Tout effacer
                                                </button>
                                            </div>
                                        </div>
                                        <div class="multiselect-selected">
                                            <!-- Les employ√©s s√©lectionn√©s appara√Ætront ici -->
                                        </div>
                                    </div>
                                    <small>S√©lectionnez les employ√©s √† inclure dans la simulation</small>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="simulation-periode">P√©riode de simulation</label>
                                    <select id="simulation-periode" name="simulation-periode" required>
                                        <option value="1">1 mois</option>
                                        <option value="3">3 mois (trimestre)</option>
                                        <option value="6">6 mois (semestre)</option>
                                        <option value="12" selected>12 mois (ann√©e)</option>
                                    </select>
                                    <small>Dur√©e de la simulation</small>
                                </div>
                                <div class="form-group">
                                    <label for="simulation-taux-charges">Taux charges sociales (%)</label>
                                    <input type="number" id="simulation-taux-charges" name="simulation-taux-charges" min="0" max="100" value="25" step="0.1" required>
                                    <small>Taux moyen des charges sociales</small>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="simulation-view">Vue des employ√©s</label>
                                    <select id="simulation-view" name="simulation-view">
                                        <option value="all">Tous les employ√©s du service</option>
                                        <option value="selected">Seulement les employ√©s s√©lectionn√©s</option>
                                    </select>
                                    <small>Choisissez quels employ√©s inclure</small>
                                </div>
                            </div>
                            <button type="button" id="run-annual-simulation" class="btn btn-primary">
                                <i class="fas fa-calculator"></i> Analyser la masse salariale
                            </button>
                        </div>
                        
                        <!-- R√©sultats de la simulation RH -->
                        <div id="annual-simulation-results">
                            <!-- R√©sultats de la simulation appara√Ætront ici -->
                        </div>
                    </div>
                </section>


        </div>
    </main>

    <!-- Footer -->
    <footer class="main-footer">
            <div class="footer-content">
            <p>&copy; 2024 GEST PREV - Plateforme modulaire de gestion pr√©visionnelle</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="js/modules.js"></script>
    <script src="js/app.js"></script>
    <script src="EVENT-MANAGER.js"></script>
    <script src="DATA-MANAGER.js"></script>
    <script src="UI-MANAGER.js"></script>
    <script src="FERME-BUTTON-MANAGER.js"></script>
    <script src="HEURES-CALCUL-MANAGER.js"></script>
    <script src="SERVICES-ASSIGNES-MANAGER.js"></script>
    
    <!-- SOLUTION RADICALE - NAVIGATION DIRECTE -->
    <script>
        console.log('üöÄ SOLUTION RADICALE - Navigation directe');
        
        // Fonction imm√©diate pour modifier les titres
        function updateTitlesNow() {
            const titles = {
                'Configuration des services': 'Services',
                'Gestion des employ√©s': 'Employ√©s',
                'Planning pr√©visionnel': 'Planning RH',
                'Simulation RH': 'Simulation RH',
                'Tableau de bord': 'Dashboard',
                'Calculs automatiques': 'Configuration'
            };
            
            document.querySelectorAll('.feature-card h4').forEach(title => {
                const current = title.textContent.trim();
                if (titles[current]) {
                    title.textContent = titles[current];
                    console.log('‚úÖ Titre modifi√©:', current, '‚Üí', titles[current]);
                }
            });
        }
        
        // Fonction imm√©diate pour naviguer
        function navigateNow(sectionName) {
            document.querySelectorAll('.module-section').forEach(s => s.style.display = 'none');
            const target = document.getElementById(sectionName);
            if (target) {
                target.style.display = 'block';
                target.scrollIntoView({ behavior: 'smooth' });
                console.log('‚úÖ Navigation vers:', sectionName);
            }
        }
        
        // Fonction imm√©diate pour g√©rer les clics
        function handleClickNow(event) {
            let card = event.target;
            while (card && !card.classList.contains('feature-card')) {
                card = card.parentElement;
            }
            
            if (card && card.classList.contains('feature-card')) {
                const title = card.querySelector('h4');
                if (title) {
                    const cardTitle = title.textContent.trim();
                    console.log('üéØ Clic sur:', cardTitle);
                    
                    const navigation = {
                        'Services': 'rh-services',
                        'Configuration des services': 'rh-services',
                        'Employ√©s': 'rh-employes',
                        'Gestion des employ√©s': 'rh-employes',
                        'Planning RH': 'rh-planning',
                        'Planning pr√©visionnel': 'rh-planning',
                        'Simulation RH': 'rh-simulation',
                        'Dashboard': 'rh-dashboard',
                        'Tableau de bord': 'rh-dashboard',
                        'Configuration': 'rh-configuration',
                        'Calculs automatiques': 'rh-configuration'
                    };
                    
                    const targetSection = navigation[cardTitle];
                    if (targetSection) {
                        navigateNow(targetSection);
                    }
                }
            }
        }
        
        // EX√âCUTION IMM√âDIATE
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ EX√âCUTION IMM√âDIATE');
            updateTitlesNow();
            document.addEventListener('click', handleClickNow);
            document.addEventListener('click', handleFermeButtonClick);
            console.log('‚úÖ SOLUTION RADICALE APPLIQU√âE');
        });
        
        // Fonction pour les boutons Ferm√©
        function handleFermeButtonClick(event) {
            const button = event.target.closest('.ferme-btn');
            if (!button) return;
            
            const day = button.dataset.day;
            const season = button.dataset.season;
            console.log('üñ±Ô∏è Clic bouton Ferm√©:', day, season);
            
            if (button.classList.contains('active')) {
                // D√©sactiver
                button.classList.remove('active');
                button.querySelector('span').textContent = 'Ferm√©';
                button.querySelector('i').className = 'fas fa-lock';
                
                // R√©activer les inputs
                const seasonDiv = button.closest('.season-hours-day');
                const inputs = seasonDiv.querySelectorAll('input[type="time"]');
                inputs.forEach(input => {
                    input.disabled = false;
                    input.style.opacity = '1';
                });
                console.log('üîì Bouton d√©sactiv√©:', day, season);
            } else {
                // Activer
                button.classList.add('active');
                button.querySelector('span').textContent = 'Ouvert';
                button.querySelector('i').className = 'fas fa-unlock';
                
                // D√©sactiver les inputs
                const seasonDiv = button.closest('.season-hours-day');
                const inputs = seasonDiv.querySelectorAll('input[type="time"]');
                inputs.forEach(input => {
                    input.disabled = true;
                    input.style.opacity = '0.5';
                });
                console.log('üîí Bouton activ√©:', day, season);
            }
        }
        
        // Fallback imm√©diat si DOMContentLoaded d√©j√† pass√©
        if (document.readyState === 'loading') {
            console.log('‚è≥ DOM en cours de chargement...');
        } else {
            console.log('‚ö° DOM d√©j√† pr√™t, ex√©cution imm√©diate');
            updateTitlesNow();
            document.addEventListener('click', handleClickNow);
            document.addEventListener('click', handleFermeButtonClick);
        }
    </script>
</body>
</html>